{% extends "base.html" %}
{% block content %}
<div class="search-results">
<h2 class="results-title">Search Results for "{{ query }}"</h2>

{% if courses %}
    <section class="results-section">
        <h3>Courses</h3>
        <ul class="results-list">
            {% for course in courses %}
            <li class="result-card">
                <a
                    href="{{ url_for('main.feature',
                        course_name=course.course_name,
                        section_name=course.section_name,
                        role=role) }}"
                    class="result-link"
                >
                    <span class="result-name">{{ course.course_name }}</span>
                    <span class="result-meta">Section {{ course.section_name }}</span>
                </a>
            </li>
            {% endfor %}
        </ul>
    </section>
    {% endif %}

    {% if assignments %}
    <section class="results-section">
        <h3>Assignments</h3>
        <ul class="results-list">
            {% for assignment in assignments %}
            <li class="result-card">
                <a
                    href="{{ url_for('main.assignment',
                        course_name=assignment.course_name,
                        section_name=assignment.section_name,
                        assignment_name=assignment.assignment_name,
                        assignment_points=assignment.points,
                        role=role) }}"
                    class="result-link"
                >
                    <span class="result-name">{{ assignment.assignment_name }}</span>
                    <span class="result-meta">
                        {{ assignment.course_name }} · Section {{ assignment.section_name }}
                    </span>
                    <span class="result-points">{{ assignment.points }} pts</span>
                </a>
            </li>
            {% endfor %}
        </ul>
    </section>
    {% endif %}

    {% if not courses and not assignments %}
        <p class="no-results">No courses or assignments found.</p>
    {% endif %}

    <a class="back-home" href="{{ url_for('main.index', role=role) }}">
        ← Back to Home
    </a>
</div>
{% endblock %}
